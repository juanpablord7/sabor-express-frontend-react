import{r as a,P as h,j as l,e as u,d as p}from"./index-B2Q2OhJM.js";import{a as Q}from"./Col-8iNZw2_w.js";function X(e,t){return a.Children.toArray(e).some(s=>a.isValidElement(s)&&s.type===t)}const Y={type:h.string,tooltip:h.bool,as:h.elementType},j=a.forwardRef(({as:e="div",className:t,type:s="valid",tooltip:r=!1,...o},n)=>l.jsx(e,{...o,ref:n,className:u(t,`${s}-${r?"tooltip":"feedback"}`)}));j.displayName="Feedback";j.propTypes=Y;const y=a.createContext({}),$=a.forwardRef(({id:e,bsPrefix:t,className:s,type:r="checkbox",isValid:o=!1,isInvalid:n=!1,as:c="input",...d},f)=>{const{controlId:m}=a.useContext(y);return t=p(t,"form-check-input"),l.jsx(c,{...d,ref:f,type:r,id:e||m,className:u(s,t,o&&"is-valid",n&&"is-invalid")})});$.displayName="FormCheckInput";const w=a.forwardRef(({bsPrefix:e,className:t,htmlFor:s,...r},o)=>{const{controlId:n}=a.useContext(y);return e=p(e,"form-check-label"),l.jsx("label",{...r,ref:o,htmlFor:s||n,className:u(t,e)})});w.displayName="FormCheckLabel";const b=a.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:s,inline:r=!1,reverse:o=!1,disabled:n=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:f=!1,feedback:m,feedbackType:g,className:I,style:U,title:x="",type:N="checkbox",label:k,children:v,as:W="input",...q},H)=>{t=p(t,"form-check"),s=p(s,"form-switch");const{controlId:E}=a.useContext(y),J=a.useMemo(()=>({controlId:e||E}),[E,e]),O=!v&&k!=null&&k!==!1||X(v,w),K=l.jsx($,{...q,type:N==="switch"?"checkbox":N,ref:H,isValid:c,isInvalid:d,disabled:n,as:W});return l.jsx(y.Provider,{value:J,children:l.jsx("div",{style:U,className:u(I,O&&t,r&&`${t}-inline`,o&&`${t}-reverse`,N==="switch"&&s),children:v||l.jsxs(l.Fragment,{children:[K,O&&l.jsx(w,{title:x,children:k}),m&&l.jsx(j,{type:g,tooltip:f,children:m})]})})})});b.displayName="FormCheck";const F=Object.assign(b,{Input:$,Label:w}),A=a.forwardRef(({bsPrefix:e,type:t,size:s,htmlSize:r,id:o,className:n,isValid:c=!1,isInvalid:d=!1,plaintext:f,readOnly:m,as:g="input",...I},U)=>{const{controlId:x}=a.useContext(y);return e=p(e,"form-control"),l.jsx(g,{...I,type:t,size:r,ref:U,readOnly:m,id:o||x,className:u(n,f?`${e}-plaintext`:e,s&&`${e}-${s}`,t==="color"&&`${e}-color`,c&&"is-valid",d&&"is-invalid")})});A.displayName="FormControl";const P=Object.assign(A,{Feedback:j}),_=a.forwardRef(({className:e,bsPrefix:t,as:s="div",...r},o)=>(t=p(t,"form-floating"),l.jsx(s,{ref:o,className:u(e,t),...r})));_.displayName="FormFloating";const C=a.forwardRef(({controlId:e,as:t="div",...s},r)=>{const o=a.useMemo(()=>({controlId:e}),[e]);return l.jsx(y.Provider,{value:o,children:l.jsx(t,{...s,ref:r})})});C.displayName="FormGroup";const L=a.forwardRef(({as:e="label",bsPrefix:t,column:s=!1,visuallyHidden:r=!1,className:o,htmlFor:n,...c},d)=>{const{controlId:f}=a.useContext(y);t=p(t,"form-label");let m="col-form-label";typeof s=="string"&&(m=`${m} ${m}-${s}`);const g=u(o,t,r&&"visually-hidden",s&&m);return n=n||f,s?l.jsx(Q,{ref:d,as:"label",className:g,htmlFor:n,...c}):l.jsx(e,{ref:d,className:g,htmlFor:n,...c})});L.displayName="FormLabel";const Z=a.forwardRef(({bsPrefix:e,className:t,id:s,...r},o)=>{const{controlId:n}=a.useContext(y);return e=p(e,"form-range"),l.jsx("input",{...r,type:"range",ref:o,className:u(t,e),id:s||n})});Z.displayName="FormRange";const B=a.forwardRef(({bsPrefix:e,size:t,htmlSize:s,className:r,isValid:o=!1,isInvalid:n=!1,id:c,...d},f)=>{const{controlId:m}=a.useContext(y);return e=p(e,"form-select"),l.jsx("select",{...d,size:s,ref:f,className:u(r,e,t&&`${e}-${t}`,o&&"is-valid",n&&"is-invalid"),id:c||m})});B.displayName="FormSelect";const D=a.forwardRef(({bsPrefix:e,className:t,as:s="small",muted:r,...o},n)=>(e=p(e,"form-text"),l.jsx(s,{...o,ref:n,className:u(t,e,r&&"text-muted")})));D.displayName="FormText";const z=a.forwardRef((e,t)=>l.jsx(F,{...e,ref:t,type:"switch"}));z.displayName="Switch";const ee=Object.assign(z,{Input:F.Input,Label:F.Label}),G=a.forwardRef(({bsPrefix:e,className:t,children:s,controlId:r,label:o,...n},c)=>(e=p(e,"form-floating"),l.jsxs(C,{ref:c,className:u(t,e),controlId:r,...n,children:[s,l.jsx("label",{htmlFor:r,children:o})]})));G.displayName="FloatingLabel";const te={_ref:h.any,validated:h.bool,as:h.elementType},S=a.forwardRef(({className:e,validated:t,as:s="form",...r},o)=>l.jsx(s,{...r,ref:o,className:u(e,t&&"was-validated")}));S.displayName="Form";S.propTypes=te;const ye=Object.assign(S,{Group:C,Control:P,Floating:_,Check:F,Switch:ee,Label:L,Text:D,Range:Z,Select:B,FloatingLabel:G});let i=[{id:1,createdAt:"2025-07-04T16:17:05.676Z",email:"admin@saborexpress.com",fullname:"admin",password:"1234",role:1,updatedAt:"2025-07-12T15:19:17.916Z",username:"admin"},{id:5,createdAt:"2025-07-12T13:43:06.954Z",email:"chef@saborexpress.com",fullname:"chef",password:"1234",role:4,updatedAt:"2025-07-12T16:39:38.319Z",username:"chef"},{id:6,createdAt:"2025-07-12T13:43:59.976Z",email:"delivery@saborexpress.com",fullname:"delivery",password:"1234",role:5,updatedAt:"2025-07-12T16:00:22.358Z",username:"repartidor"},{id:7,createdAt:"2025-07-12T14:28:50.468Z",email:"cliente@gmail.com",fullname:"cliente",password:"1234",role:2,updatedAt:"2025-07-12T16:47:35.960Z",username:"cliente"}];async function se(e,t,s){const r=i.find(o=>{const n=e&&o.username===e,c=t&&o.email===t;return(n||c)&&o.password===s});if(r){const o=`mock-token-${r.id}`;return localStorage.setItem("token",o),{success:!0,token:o}}else return{success:!1,error:"Credenciales inválidas"}}async function re(e,t,s,r){if(i.some(d=>d.username===e||d.email===s))return{success:!1,error:"El usuario o correo ya está registrado"};const c={id:i.reduce((d,f)=>Math.max(d,f.id),0)+1,username:e,fullname:t,email:s,password:r,role:2,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return i.push(c),console.log(i),{success:!0,user:c}}const oe=Object.freeze(Object.defineProperty({__proto__:null,login:se,mockUsers:i,register:re},Symbol.toStringTag,{value:"Module"}));function T(){const e=localStorage.getItem("token");if(!e||!e.startsWith("mock-token-"))return null;const t=e.replace("mock-token-",""),s=parseInt(t,10);return isNaN(s)?null:s}async function ne(){try{const e=T();if(e===null)throw new Error("No authenticated user");return i.find(t=>t.id===e)}catch(e){console.error("Error fetching user:",e)}}const ae=async e=>{const t=T();if(t===null)throw new Error("No authenticated user");const s=i.findIndex(o=>o.id===t);if(s===-1)throw new Error("User not found");const r={...i[s],...e,updatedAt:new Date().toISOString()};return i[s]=r,r},le=async()=>{const e=T();if(e===null)throw new Error("No authenticated user");const t=i.findIndex(s=>s.id===e);if(t===-1)throw new Error("User not found");return i.splice(t,1),localStorage.removeItem("token"),"User deleted successfully"},ce=Object.freeze(Object.defineProperty({__proto__:null,deleteMyUser:le,editMyUser:ae,getMyUser:ne},Symbol.toStringTag,{value:"Module"}));async function de(e,t,s){let r=[...i];s!==void 0&&(r=r.filter(d=>d.role===s));const o=(e-1)*t,n=o+t,c=r.slice(o,n);return{totalItems:r.length,users:c}}const ie=async(e,t)=>{console.log("fields: "+t);const s=i.find(r=>r.id===e);if(!s)throw new Error(`User with ID ${e} not found`);return s},me=async(e,t)=>{const s=i.findIndex(o=>o.id===e);if(s===-1)throw new Error(`User with ID ${e} not found`);const r={...i[s],...t,updatedAt:new Date().toISOString()};return i[s]=r,r},ue=Object.freeze(Object.defineProperty({__proto__:null,editUser:me,getUserById:ie,getUsers:de},Symbol.toStringTag,{value:"Module"})),M=ce,V=oe,R=ue,ge=M.getMyUser,he=M.editMyUser,we=M.deleteMyUser,Fe=V.login,je=V.register,Ie=R.getUsers,Ue=R.getUserById,xe=R.editUser;export{ye as F,Ue as a,Ie as b,xe as c,we as d,he as e,ge as g,Fe as l,je as r};
