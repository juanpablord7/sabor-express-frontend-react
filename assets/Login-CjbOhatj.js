import{r,a as f,b as w,j as e,C,B as u,F as N,c as S,L}from"./index-ClEa-Ms0.js";import{F as s,l as U,g as E}from"./index-CJNcuX61.js";import{C as m}from"./Col-C06AUG80.js";import{A as h}from"./Alert-S8SEoOs_.js";function B(){const[o,j]=r.useState(""),[l,p]=r.useState(""),[c,n]=r.useState(""),[d,x]=r.useState(!1),[i,g]=r.useState(!1),{setUser:b}=f(),v=w(),y=async a=>{a.preventDefault(),x(!0),n("");try{await U(o,null,l);const t=await E();t?(await b(t),v("/")):n("Credenciales inválidas")}catch(t){console.error(t),n("Ocurrió un error. Intenta nuevamente.")}x(!1)};return e.jsx(C,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:e.jsxs("div",{className:"w-100",style:{maxWidth:"400px",padding:"1rem"},children:[e.jsx(m,{children:e.jsxs(m.Body,{children:[e.jsx("h2",{className:"text-center mb-4",children:"Iniciar Sesión"}),e.jsxs(h,{variant:"secondary",className:"text-sm py-2 px-3 mb-3",children:[e.jsx("strong",{children:"Pista:"})," Usa los nombres de usuarios: ",e.jsx("br",{})," ",e.jsx("code",{children:"admin"}),", ",e.jsx("code",{children:"chef"}),", ",e.jsx("code",{children:"repartidor"})," o ",e.jsx("code",{children:"cliente"}),". ",e.jsx("br",{}),"Contraseña para todos: ",e.jsx("code",{children:"1234"})]}),c&&e.jsx(h,{variant:"danger",children:c}),e.jsxs(s,{onSubmit:y,children:[e.jsxs(s.Group,{id:"username",className:"mb-3",children:[e.jsx(s.Label,{children:"Nombre de usuario"}),e.jsx(s.Control,{type:"text",required:!0,value:o,onChange:a=>j(a.target.value),placeholder:"Juan1234"})]}),e.jsxs(s.Group,{id:"password",className:"mb-3",children:[e.jsx(s.Label,{children:"Contraseña"}),e.jsxs("div",{className:"position-relative",children:[e.jsx(s.Control,{type:i?"text":"password",required:!0,value:l,onChange:a=>p(a.target.value),placeholder:"Contraseña"}),e.jsx(u,{variant:"link",onClick:()=>g(!i),className:"position-absolute top-50 end-0 translate-middle-y",style:{textDecoration:"none"},tabIndex:-1,children:i?e.jsx(N,{}):e.jsx(S,{})})]})]}),e.jsx(u,{disabled:d,className:"w-100",type:"submit",children:d?"Cargando...":"Iniciar sesión"})]})]})}),e.jsxs("div",{className:"w-100 text-center mt-2",children:["¿No tienes una cuenta? ",e.jsx(L,{to:"/register",children:"Regístrate"})]})]})})}export{B as default};
