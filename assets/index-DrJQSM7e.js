import{r as n,P as g,j as c,e as d,d as m,J as h,O as L}from"./index-IhiKscJW.js";import{a as Y}from"./Col-Dpy-q5PJ.js";function Z(e,t){return n.Children.toArray(e).some(s=>n.isValidElement(s)&&s.type===t)}const P={type:g.string,tooltip:g.bool,as:g.elementType},w=n.forwardRef(({as:e="div",className:t,type:s="valid",tooltip:r=!1,...a},o)=>c.jsx(e,{...a,ref:o,className:d(t,`${s}-${r?"tooltip":"feedback"}`)}));w.displayName="Feedback";w.propTypes=P;const f=n.createContext({}),I=n.forwardRef(({id:e,bsPrefix:t,className:s,type:r="checkbox",isValid:a=!1,isInvalid:o=!1,as:l="input",...u},p)=>{const{controlId:i}=n.useContext(f);return t=m(t,"form-check-input"),c.jsx(l,{...u,ref:p,type:r,id:e||i,className:d(s,t,a&&"is-valid",o&&"is-invalid")})});I.displayName="FormCheckInput";const j=n.forwardRef(({bsPrefix:e,className:t,htmlFor:s,...r},a)=>{const{controlId:o}=n.useContext(f);return e=m(e,"form-check-label"),c.jsx("label",{...r,ref:a,htmlFor:s||o,className:d(t,e)})});j.displayName="FormCheckLabel";const _=n.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:s,inline:r=!1,reverse:a=!1,disabled:o=!1,isValid:l=!1,isInvalid:u=!1,feedbackTooltip:p=!1,feedback:i,feedbackType:y,className:$,style:v,title:N="",type:C="checkbox",label:U,children:R,as:H="input",...K},Q)=>{t=m(t,"form-check"),s=m(s,"form-switch");const{controlId:S}=n.useContext(f),W=n.useMemo(()=>({controlId:e||S}),[S,e]),T=!R&&U!=null&&U!==!1||Z(R,j),X=c.jsx(I,{...K,type:C==="switch"?"checkbox":C,ref:Q,isValid:l,isInvalid:u,disabled:o,as:H});return c.jsx(f.Provider,{value:W,children:c.jsx("div",{style:v,className:d($,T&&t,r&&`${t}-inline`,a&&`${t}-reverse`,C==="switch"&&s),children:R||c.jsxs(c.Fragment,{children:[X,T&&c.jsx(j,{title:N,children:U}),i&&c.jsx(w,{type:y,tooltip:p,children:i})]})})})});_.displayName="FormCheck";const F=Object.assign(_,{Input:I,Label:j}),O=n.forwardRef(({bsPrefix:e,type:t,size:s,htmlSize:r,id:a,className:o,isValid:l=!1,isInvalid:u=!1,plaintext:p,readOnly:i,as:y="input",...$},v)=>{const{controlId:N}=n.useContext(f);return e=m(e,"form-control"),c.jsx(y,{...$,type:t,size:r,ref:v,readOnly:i,id:a||N,className:d(o,p?`${e}-plaintext`:e,s&&`${e}-${s}`,t==="color"&&`${e}-color`,l&&"is-valid",u&&"is-invalid")})});O.displayName="FormControl";const ee=Object.assign(O,{Feedback:w}),E=n.forwardRef(({className:e,bsPrefix:t,as:s="div",...r},a)=>(t=m(t,"form-floating"),c.jsx(s,{ref:a,className:d(e,t),...r})));E.displayName="FormFloating";const x=n.forwardRef(({controlId:e,as:t="div",...s},r)=>{const a=n.useMemo(()=>({controlId:e}),[e]);return c.jsx(f.Provider,{value:a,children:c.jsx(t,{...s,ref:r})})});x.displayName="FormGroup";const B=n.forwardRef(({as:e="label",bsPrefix:t,column:s=!1,visuallyHidden:r=!1,className:a,htmlFor:o,...l},u)=>{const{controlId:p}=n.useContext(f);t=m(t,"form-label");let i="col-form-label";typeof s=="string"&&(i=`${i} ${i}-${s}`);const y=d(a,t,r&&"visually-hidden",s&&i);return o=o||p,s?c.jsx(Y,{ref:u,as:"label",className:y,htmlFor:o,...l}):c.jsx(e,{ref:u,className:y,htmlFor:o,...l})});B.displayName="FormLabel";const z=n.forwardRef(({bsPrefix:e,className:t,id:s,...r},a)=>{const{controlId:o}=n.useContext(f);return e=m(e,"form-range"),c.jsx("input",{...r,type:"range",ref:a,className:d(t,e),id:s||o})});z.displayName="FormRange";const A=n.forwardRef(({bsPrefix:e,size:t,htmlSize:s,className:r,isValid:a=!1,isInvalid:o=!1,id:l,...u},p)=>{const{controlId:i}=n.useContext(f);return e=m(e,"form-select"),c.jsx("select",{...u,size:s,ref:p,className:d(r,e,t&&`${e}-${t}`,a&&"is-valid",o&&"is-invalid"),id:l||i})});A.displayName="FormSelect";const G=n.forwardRef(({bsPrefix:e,className:t,as:s="small",muted:r,...a},o)=>(e=m(e,"form-text"),c.jsx(s,{...a,ref:o,className:d(t,e,r&&"text-muted")})));G.displayName="FormText";const V=n.forwardRef((e,t)=>c.jsx(F,{...e,ref:t,type:"switch"}));V.displayName="Switch";const te=Object.assign(V,{Input:F.Input,Label:F.Label}),J=n.forwardRef(({bsPrefix:e,className:t,children:s,controlId:r,label:a,...o},l)=>(e=m(e,"form-floating"),c.jsxs(x,{ref:l,className:d(t,e),controlId:r,...o,children:[s,c.jsx("label",{htmlFor:r,children:a})]})));J.displayName="FloatingLabel";const se={_ref:g.any,validated:g.bool,as:g.elementType},k=n.forwardRef(({className:e,validated:t,as:s="form",...r},a)=>c.jsx(s,{...r,ref:a,className:d(e,t&&"was-validated")}));k.displayName="Form";k.propTypes=se;const ge=Object.assign(k,{Group:x,Control:ee,Floating:E,Check:F,Switch:te,Label:B,Text:G,Range:z,Select:A,FloatingLabel:J});async function re(){try{return(await h.get("/user/me")).data}catch(e){console.error("Error fetching products:",e)}}const oe=async e=>(console.log("Edit user"),console.log(e),(await h.patch("/user/me",e)).data),ae=async()=>(await h.delete("/user/me")).data,ne=Object.freeze(Object.defineProperty({__proto__:null,deleteMyUser:ae,editMyUser:oe,getMyUser:re},Symbol.toStringTag,{value:"Module"})),q="http://192.168.18.8:8080/api";async function ce(e,t,s){var a;const r={password:s};e?r.username=e:t&&(r.email=t);try{console.log("body: "+r.username+" "+r.password);const o=await L.post(`${q}/user/auth/login`,r);let l="";return o&&((a=o.data)!=null&&a.jwt)&&(l=o.data.jwt,localStorage.setItem("token",l)),{success:!0,token:l}}catch(o){return{success:!1,error:o}}}async function le(e,t,s,r){const a={username:e,fullname:t,email:s,password:r};try{return{success:!0,user:(await L.post(`${q}/user/auth/register`,a)).data}}catch(o){return{success:!1,error:o}}}const ie=Object.freeze(Object.defineProperty({__proto__:null,login:ce,register:le},Symbol.toStringTag,{value:"Module"}));async function de(e,t,s){try{const r={page:e,limit:t};s!==void 0&&(r.role=s);const a=await h.get("/user",{params:r}),{totalItems:o,content:l}=a.data;return Array.isArray(l)&&typeof o=="number"?{totalItems:o,users:l}:{totalItems:0,users:[]}}catch(r){return console.error("Error fetching products:",r),{totalItems:0,users:[]}}}const me=async(e,t)=>{try{const s={};return t!==void 0&&(s.fields=t),(await h.get(`/user/${e}`,{params:s})).data}catch(s){throw console.error("Error fetching user:",s),s}},ue=async(e,t)=>(await h.patch(`/user/${e}`,t)).data,pe=Object.freeze(Object.defineProperty({__proto__:null,editUser:ue,getUserById:me,getUsers:de},Symbol.toStringTag,{value:"Module"})),M=ne,D=ie,b=pe,he=M.getMyUser,je=M.editMyUser,Fe=M.deleteMyUser,we=D.login,$e=D.register,ve=b.getUsers,Ne=b.getUserById,Ce=b.editUser;export{ge as F,Ne as a,ve as b,Ce as c,Fe as d,je as e,he as g,we as l,$e as r};
